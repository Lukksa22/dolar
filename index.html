<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>USD ⇄ USDT/USDC ⇄ ARS</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>USD ⇄ USDT/USDC ⇄ ARS</h1>
    <p class="muted">Actualización cada 25s.</p>
  </header>

  <main class="container">
    <section class="panel">
      <h2>Parámetros</h2>
      <div class="grid">
        <label class="field">
          <span>Volumen (ARS)</span>
          <input id="volumen" type="number" min="0" step="1" />
        </label>

        <label class="field">
          <span>Dólar oficial (ARS por USD)</span>
          <div class="row">
            <input id="oficial" type="number" min="0" step="0.0001" />
            <button id="guardarOficial" class="btn btn-secondary" title="Guardar para próximas visitas">Guardar</button>
          </div>
        </label>
      </div>

      <p class="helper">Formula: (volumen / oficial - comision) * (Crypto) / volumen.</p>
    </section>

    <section class="panel">
      <h2>Ratios</h2>

      <!-- Cambié el <pre> por un contenedor con 7 líneas, cada una con su span -->
      <div id="prints" class="console" role="status" aria-live="polite">
        <div class="line" id="prints_line1"><span class="line-text"></span></div>
        <div class="line" id="prints_line2"><span class="line-text"></span></div>
        <div class="line" id="prints_line3"><span class="line-text"></span></div>
        <div class="line" id="prints_line4"><span class="line-text"></span></div>
        <div class="line" id="prints_line5"><span class="line-text"></span></div>
        <div class="line" id="prints_line6"><span class="line-text"></span></div>
        <div class="line best" id="prints_line7"><span class="line-text"></span></div>
      </div>

      <div class="meta">
        <span id="status">⏳ Esperando datos…</span>
        <button id="refresh" class="btn">Actualizar ahora</button>
      </div>
    </section>

    <section class="panel">
      <h2>Precios usados</h2>
      <div class="prices">
        <div class="price-card">
          <h3>Belo</h3>
          <div class="price"><span>USDC/ARS</span>Vendé a:<span id="belo_usdc_ars">—</span></div>
          <div class="price"><span>USDT/ARS</span>Vendé a:<span id="belo_usdt_ars">—</span></div>
          <div class="price"><span>USDT/USD</span>Comprá a:<span id="belo_usdt_usd">—</span></div>
        </div>
          
        <div class="price-card">
          <h3>Buenbit</h3>
          <div class="price"><span>USDC/ARS</span>Vendé a:<span id="buenbit_usdc_ars">—</span></div>
          <div class="price"><span>USDT/ARS</span>Vendé a:<span id="buenbit_usdt_ars">—</span></div>
          <div class="price"><span>USDT/USD</span>Comprá a:<span id="buenbit_usdt_usd">—</span></div>
        </div>
        <div class="price-card">
          <h3>Fiwind</h3>
          <div class="price"><span>USDC/ARS</span> Vendé a:<span id="fiwind_usdc_ars">—</span></div>
          <div class="price"><span>USDT/ARS</span> Vendé a:<span id="fiwind_usdt_ars">—</span></div>
          <div class="price"><span>USDT/USD</span>Comprá a:<span id="fiwind_usdt_usd">—</span></div>
          <div class="price"><span>USDC/USD</span>Comprá a:<span id="fiwind_usdc_usd">—</span></div>
        </div>
        <div class="price-card">
          <h3>CocosCrypto</h3>
          <div class="price"><span>USDC/ARS</span>Vendé a:<span id="cocos_usdc_ars">—</span></div>
          <div class="price"><span>USDT/ARS</span>Vendé a:<span id="cocos_usdt_ars">—</span></div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Configuración opcional de persistencia remota:
    // Si definís window.REMOTE_OFICIAL_URL con un endpoint que acepte:
    //   GET  -> { value: number }
    //   PUT  -> body JSON { value: number }  (CORS habilitado)
    // se usará para guardar/cargar el dólar oficial de forma GLOBAL.
    // Ej: window.REMOTE_OFICIAL_URL = "https://tuservidor.example.com/oficial";
  </script>
  <script defer src="assets/backend.js"></script>
</body>
</html>
